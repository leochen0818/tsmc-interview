# Advanced Level

---

## 整體架構的設計方向

大體上就是透過一個 CustomWidgetComponent 來負責動態載入相應類型的 custom widget，並透過 WidgetService 來管控不要載入重複類型的
script 並擔任 widget 之間溝通的橋樑。

> 嚴格一點是該另外用一支 DynamicLoaderService 來管控載入的 script ，不過在這練習專案裡我就放一起了。

## 是否有想過其他解決方式？如果有請說明不同方式及優缺點

我想到的方式只有這一種，不過本來在思考有沒有其他比 WebElement 更適合的方式，但考量到 Widget 團隊會使用 Angular/React 與
Vanilla JS ，想想好像還是 WebElement 最為合適。

## 請根據設計出來的架構嘗試回答題說明目中的「進階申論」問題

### dashboard 團隊如何與 widget 團隊進行溝通 (如元件溝通介面設計、widget 如何註冊進 dashboard 等)?

我想主要溝通的部份就是先把元件溝通介面決定好，看是不是由 Dashboard 團隊來主導，畢竟平台設計上為了通用性，可能會比較需要
Widget 團隊配合。
然後再來就是 Widget 如何註冊進 Dashboard ，在我目前的想法中比較簡單的是就使用類型來當載入的檔名，當然如果未來需要擴充或是更彈性的話，或許可以透過一個設定檔來設定各類型相對應要載入的
JS 檔等。

### 整體架構上是否可能有效能問題 (performance issue)，如果有預想到的問題，當真正發生時該如何優化?

目前沒有想到會有什麼效能問題。

### 如果遇到了效能問題，如何監控並證明問題來自 dashboard 開發團隊還是 widget 開發團隊?

如果真的遇到了效能問題，可能還是要透過一些 Log 或是相應的監控工具如 ELK 來找出問題所在。
至於如何證明是誰的問題，大體上還是要透過上述提到的工具來定位，Dashboard 團隊的問題可能會出現在 Widget 之間的狀態管理與事件處理方面；而
Widget 團隊的問題可能會比較容易出現在當傳入的 config 或是事件發生時，是否有不必要或多餘的畫面渲染。

### 原來的 grid widget 功能，希望能針對特定某個 column 呈現進行客製化，且 column 客製化也希望交由外部團隊開發；你會怎麼設計？

我想應該也會用類似的方式去做處理吧。

### 如果 widget 之間需要有互相溝通的需求，例如 super-grid widget 特定欄位排序後，所有 grid 和 super-grid widget 只要有相同名稱欄位都需要排序；你會怎麼設計？

這個功能我有先加在範例裡了，大致上也是客製化元件本身要送出 event ，把相關資訊透過 event 送出後，一樣透過 WidgetService
來做中介，有需要做動作的 Widget 再各自去處理自己應該怎麼做。

### 任何其他想法或建議，自由發揮

無其他想法或建議，考題滿有趣的，難度也適中，很棒！
